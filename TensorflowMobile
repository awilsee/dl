https://codelabs.developers.google.com/codelabs/tensorflow-for-poets/index.html

export RETRAIN_PATH=$HOME/MobileMobileNetRetrained/
export DOG_PATH=$HOME/dog_photos/
export ARCHITECTURE=mobilenet_1.0_224

bazel-bin/tensorflow/examples/image_retraining/retrain \
  --bottleneck_dir=/home/aw/MobileMobileNetRetrained/bottlenecks \
  --how_many_training_steps=500 \
  --model_dir=$RETRAIN_PATH/models/ \
  --summaries_dir=$RETRAIN_PATH/training_dog_summaries_$ARCHITECTURE \
  --output_graph=$RETRAIN_PATH/retrained_dog_graph_$ARCHITECTURE.pb \
  --output_labels=$RETRAIN_PATH/retrained_dog_labels_$ARCHITECTURE.txt \
  --architecture=$ARCHITECTURE \
  --image_dir=$DOG_PATH


bazel-bin/tensorflow/examples/label_image/label_image \
--graph=$RETRAIN_PATH/retrained_dog_graph_$ARCHITECTURE.pb \
--labels=$RETRAIN_PATH/retrained_dog_labels_$ARCHITECTURE.txt \
--output_layer=final_result --input_layer=input \
--image=/home/aw/dogImages/101.Maltese/Maltese_06730.jpg \
--input_width=224 --input_height=224

bazel-bin/tensorflow/examples/label_image/label_image \
--graph=$RETRAIN_PATH/retrained_dog_graph_$ARCHITECTURE.pb \
--labels=$RETRAIN_PATH/retrained_dog_labels_$ARCHITECTURE.txt \
--output_layer=final_result --input_layer=input \
--image="/home/aw/Rohdaten/Stanford Dogs Dataset/Images/n02085620-Chihuahua/n02085620_949.jpg" \
--input_width=224 --input_height=224


python -m tensorflow.python.tools.optimize_for_inference \
  --input=$RETRAIN_PATH/retrained_dog_graph_$ARCHITECTURE.pb \
  --output=$RETRAIN_PATH/optimized_dog_graph_$ARCHITECTURE.pb \
  --input_names="input" \
  --output_names="final_result"
